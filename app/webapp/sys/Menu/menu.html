<!DOCTYPE html>
<html ng-app="menuApp">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>

    <title class="settitle"></title>

    <script src="http://www.subsect.net/lib/dev_subsect.js"></script>
    <script src="js/menu.js"></script>

    <link rel="stylesheet" type="text/css" href="css/menu.css">
</head>

<body class="bodynavpad">
<script type="text/ng-template" id="main.html">

	<nav ng-show="!showremove()" class="navbar navbar-default navbar-fixed-top">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" 
                    data-target="#main-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="main-collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" 
						role="button">Go To <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a ng-click="toLogin()">Login</a></li>
                        <li class="divider"></li>
                        <li><a>Logout</a></li>
                        <li class="divider"></li>
                        <li><a ng-click="toDownload()">Download</a></li>
                        <li class="divider"></li>
                        <li><a ng-click="toUpload()">Upload</a></li>
                    </ul>
                </li>
            </ul>
        </div><!-- /.navbar-collapse -->
	</nav>
	
    <div class="container-fluid">
        <div class="row center">
            <h2 class="settitle"></h2>
        </div>
    
        <div class="row">
            <div class="col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">
                <table class="table table-condensed table-hover">
                    <thead>
                    <tr>
                        <th>Site</th>
                        <th>Icon</th>
                        <th ng-show="showremove()" colspan="1"></th>
                    </tr>
                    </thead>
            
                    <tbody>
                    <tr ng-repeat="site in sites" ng-show="showitem(site)" ng-click="newurl(site)"
                            class="pointeron">
                        <td class="bigtext">{{site.title}}</td>
                        <td><img ng-src="{{site.icon}}"></td>
                        <td ng-show="showremove()"><button class="btn btn-sm btn-primary"
                                    ng-click="delSite(site)">Remove</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</script>

<!-- LOGIN -->		
    <script type="text/ng-template" id="login.html">
	<nav class="navbar navbar-default navbar-fixed-top">
		<ul class="nav navbar-nav">
			<li><a ng-click="loginCancel()" class="navbackbut">Back</a></li>
		</ul>
	</nav>
	<div class="container">
	    <div class="row"  style="margin-top: 3em">		
	       <div class="col-xs-6 col-xs-offset-3">
	            <div class="input-group">
	                <input ng-keypress="rtnpasswd($event)" ng-model="passwdbuf"
							ng-change="passValid(passwdbuf)" type="text" class="form-control"
	                        placeholder="Password"/>
					<span class="input-group-btn">
	                 <button ng-click="loginpass(passwdbuf)" type="button" 
					 	class="btn btn-primary">Login</button>
	            	</span>
				</div><!-- input group -->
			</div>
	    </div><!-- row -->
	</div> <!-- container -->
    </script>

<!-- DOWNLOAD FROM BACKUP -->		
    <script type="text/ng-template" id="download.html">
	<nav class="navbar navbar-default navbar-fixed-top">
		<ul class="nav navbar-nav">
			<li><a ng-click="downloadCancel()" class="navbackbut">Back</a></li>
		</ul>
	</nav>
	<div class="container-fluid">
	    <div class="row"  style="margin-top: 3em">		
	       <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2">
			<ul>
               <li ng-repeat="item in dirfiles" ng-bind-html="item"></li>
            </ul>
			</div>
	    </div><!-- row -->
	</div> <!-- container -->
    </script>
    
<!-- UPLOAD TO RESTORE -->		
    <script type="text/ng-template" id="upload.html">
	<nav class="navbar navbar-default navbar-fixed-top">
		<ul class="nav navbar-nav">
			<li><a ng-click="uploadCancel()" class="navbackbut">Back</a></li>
		</ul>
		<ul class="nav navbar-nav">
			<li><a ng-click="dirfile()" class="navbackbut">Directories</a></li>
		</ul>
	</nav>
	<div class="container-fluid">
	    <div class="row"  style="margin-top: 3em">		
	       <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2">
			<iframe ng-src="{{uploadsrc}}" style="height: 20em; width: 100%"></iframe> 
			</div>
	    </div><!-- row -->
	</div> <!-- container -->
	
	    <div class="modal fade" id="dirfile" role="dialog">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-body">
            <ul>
				<li>Directory: {{open.directory}}</li>
                <li ng-repeat="item in open.dirfiles" ><a class="filesel" ng-click="dirfileload($event)">
                    {{item.name}}</a></li>
            </ul>
	      </div>
	      <div class="modal-footer">
	      <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="selectDir()">Select</button>
	        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
	      </div>
	    </div>
	  </div>
	</div>
	
    </script>
<ng-view> </ng-view>

</body>
</html>